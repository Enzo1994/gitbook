# 函数表达式

## 区分表达式和语句：
表达式就是表示值的式子，而语句是操作值的式子

1. 表达式：  
特点：会返回一个值
```js
x=5
```

2. 语句：  
特点：V8没有返回任何值，只是解析foo函数，并将函数对象存储到内存中
```js
function foo(){ 
    return 1
}
```
> 执行上面的语句，它并没有输出任何内容，所以可以肯定，函数声明并不是一个表达式，而是一个语句。

函数也是一个对象，所以在编译阶段，V8 就会将整个函数对象提升到作用域中，并不是给该函数名称赋一个 undefined，理解这一点尤为重要。

## 小结：
在 V8 解析 JavaScript 源码的过程中，如果遇到普通的变量声明，那么便会将其提升到作用域中，并给该变量赋值为 undefined，如果遇到的是函数声明，那么 V8 会在内存中为声明生成函数对象，并将该对象提升到作用域中。

编译期：创建作用域 和 提取出执行代码  => 执行阶段：执行代码

## IIFE:
> IIFE 利用了
> 1. **括号里只能是表达式**的特性，小括号里的函数会被看成函数表达式，而不是函数声明，声明在执行时会返回一个函数对象（想想`(X=5)`）
> 2. **函数表达式只会在执行阶段完成**的特性，函数和函数内部的变量都不会因为编译阶段的变量提升而污染环境，并**不会为该表达式创建函数对象**，函数和函数内部的变量都不会被其他部分的代码访问到。

小括号之间存放的必须是表达式，所以如果在小阔号里面定义一个函数，那么 V8 就会把这个函数看成是函数表达式而不是函数声明，执行时它会返回一个函数对象。

因为函数立即表达式也是一个表达式，所以 V8 在编译阶段，并不会为该表达式创建函数对象，所以该函数表达式。

另外因为函数立即表达式是立即执行的，所以将一个函数立即表达式赋给一个变量时，不是存储 IIFE 本身，而是存储 IIFE 执行后返回的结果
```js
var a = (function () { return 1})()
```